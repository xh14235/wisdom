<html>

<head>
	<title>WS video player</title>
	<style type="text/css">
		body {
			text-align: center;
			width: 100%;
			height: 100%;
		}

		#videoCanvas {
			/* Always stretch the canvas to 640x480, regardless of its internal size. */
			width: 100% !important;
			max-width: 800px;
		}
	</style>
	<style type="text/css">
		html,
		body {
			background-color: #333;
			text-align: center;
		}
	</style>
</head>

<body>
	<!-- <h1>JSMpeg player - Evan v2019.09.03</h1> -->
	<p>
		<input type="text" id="inputUrl" onkeydown="if(event.keyCode==13)play();" value="ws://172.18.8.51:8082/"
			size="80" />
		<button id="btnplay" onClick="play();" type="button">Play</button>
	</p>
	<p>
		<canvas id="videoCanvas" align="center">
	</p>
	<script type="text/javascript" src="jsmpeg.min.js"></script>
	<script type="text/javascript">
		var canvas = document.getElementById('videoCanvas');
		var bPlay = false;
		var player = null;
		var btn = document.getElementById('btnplay');
		function play() {
			if (bPlay) {
				player.stop();
				//player.destroy()
				delete player;
				player = null;
				bPlay = false;
				btn.innerHTML = "Play";
			}
			else {
				var playUrl = document.getElementById("inputUrl").value;
				player = new JSMpeg.Player(playUrl, { canvas: canvas });
				btn.innerHTML = "Stop";
				bPlay = true;
			}
		}
	</script>
</body>

</html>